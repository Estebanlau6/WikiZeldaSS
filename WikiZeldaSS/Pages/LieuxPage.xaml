<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:WikiZeldaSS.ViewModels"
             xmlns:model="clr-namespace:WikiZeldaSS.Models"
             x:Class="WikiZeldaSS.Pages.LieuxPage"
             Title="Lieux de Skyward Sword"
             BackgroundColor="#1a1a2e">
    <VerticalStackLayout Spacing="15" Padding="20">
            <Label Text="Lieux de Skyward Sword"
               FontSize="28"
               FontAttributes="Bold"
               TextColor="#ffd700"
               HorizontalOptions="Center"
               Margin="0,10,0,20" />

            <CollectionView x:Name="LieuxCollectionView"
                        SelectionMode="Single"
                        ItemsSource="{Binding Lieux}"
                        SelectionChangedCommand="{Binding OpenDetailPageCommand}"
                        SelectionChangedCommandParameter="{Binding SelectedItem, Source={x:Reference LieuxCollectionView}}">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Vertical" ItemSpacing="5"/>
                </CollectionView.ItemsLayout>

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="model:Lieu">
                        <Border BackgroundColor="#2c3e50" Padding="15" StrokeShape="RoundRectangle 10">
                            <VerticalStackLayout HorizontalOptions="Start">
                                <HorizontalStackLayout Spacing="10" HorizontalOptions="Start">
                                    <Label Text="{Binding Emoji}" FontSize="24" VerticalOptions="Center" />
                                    <Label Text="{Binding Nom}"
                                       FontSize="20"
                                       FontAttributes="Bold"
                                       TextColor="{Binding Couleur}"
                                       VerticalOptions="Center" />
                                </HorizontalStackLayout>

                                <Label Text="{Binding DescriptionCourt}"
                                   FontSize="14"
                                   TextColor="White"
                                   LineBreakMode="WordWrap"
                                   HorizontalOptions="Start" />
                            </VerticalStackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ContentPage>

