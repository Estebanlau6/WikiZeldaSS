<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:model="clr-namespace:WikiZeldaSS.Models"
             x:Class="WikiZeldaSS.Details.QuetesDetail"
             Title="{Binding Nom}"
             BackgroundColor="#1a1a2e">

    <ContentPage.Resources>
        <ResourceDictionary>
            <Style x:Key="DetailTitleStyle" TargetType="Label">
                <Setter Property="FontSize" Value="20" />
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="TextColor" Value="#ffd700" />
            </Style>
            <Style x:Key="DetailTextStyle" TargetType="Label">
                <Setter Property="FontSize" Value="16" />
                <Setter Property="TextColor" Value="White" />
                <Setter Property="LineBreakMode" Value="WordWrap" />
            </Style>
            <Style x:Key="InfoGridTitle" TargetType="Label" BasedOn="{StaticResource DetailTitleStyle}">
                <Setter Property="FontSize" Value="18" />
                <Setter Property="VerticalOptions" Value="Start" />
            </Style>
            <Style x:Key="InfoGridText" TargetType="Label" BasedOn="{StaticResource DetailTextStyle}">
                <Setter Property="VerticalOptions" Value="Start" />
            </Style>
            <Style x:Key="InfoCardStyle" TargetType="Border">
                <Setter Property="Stroke" Value="#ffd700" />
                <Setter Property="StrokeThickness" Value="1" />
                <Setter Property="StrokeShape" Value="RoundRectangle 10" />
                <Setter Property="BackgroundColor" Value="#0d1321" />
                <Setter Property="Padding" Value="15" />
                <Setter Property="Margin" Value="10,0,10,10" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>


    <ScrollView>
        <VerticalStackLayout Padding="0" Spacing="15">

            <Border Stroke="#ffd700"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 20"
                    BackgroundColor="#0d1321"
                    Padding="0" 
                    Margin="10">

                <VerticalStackLayout Spacing="0">

                    <Border StrokeShape="RoundRectangle 20,20,0,0" HeightRequest="250"
                            VerticalOptions="Start">
                        <Image Source="{Binding Image}" Aspect="AspectFit" Margin="20" />
                    </Border>

                    <VerticalStackLayout Padding="15" Spacing="15">

                        <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                            <Label Text="{Binding Emoji}" FontSize="40" VerticalOptions="Center" />
                            <Label Text="{Binding Nom}"
                                   FontSize="28"
                                   FontAttributes="Bold"
                                   TextColor="{Binding Couleur}"
                                   VerticalOptions="Center" />
                        </HorizontalStackLayout>

                        <BoxView HeightRequest="2" Color="#ffd700" />

                        <Label Text="Description" Style="{StaticResource DetailTitleStyle}" />
                        <Label Text="{Binding DescriptionLong}" Style="{StaticResource DetailTextStyle}" />

                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <Border Style="{StaticResource InfoCardStyle}">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Fiche d'information" Style="{StaticResource DetailTitleStyle}" 
                           HorizontalOptions="Center" Margin="0,0,0,5"/>
                    <BoxView HeightRequest="1" Color="#ffd700" Opacity="0.5" />

                    <Grid ColumnSpacing="15" RowSpacing="15" Margin="0,10,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Text="ðŸ—£ï¸ Donneur:" 
                               Style="{StaticResource InfoGridTitle}"/>
                        <Label Grid.Row="0" Grid.Column="1" Text="{Binding DonneurQuete}" 
                               Style="{StaticResource InfoGridText}" />

                        <Label Grid.Row="1" Grid.Column="0" Text="ðŸ“ Localisation:" 
                               Style="{StaticResource InfoGridTitle}"/>
                        <Label Grid.Row="1" Grid.Column="1" Text="{Binding Localisation}" 
                               Style="{StaticResource InfoGridText}" />

                        <Label Grid.Row="2" Grid.Column="0" Text="ðŸŽ¯ Objectif:" 
                               Style="{StaticResource InfoGridTitle}"/>
                        <Label Grid.Row="2" Grid.Column="1" Text="{Binding Objectif}" 
                               Style="{StaticResource InfoGridText}" />

                        <Label Grid.Row="3" Grid.Column="0" Text="ðŸ† RÃ©compense:" 
                               Style="{StaticResource InfoGridTitle}"/>
                        <Label Grid.Row="3" Grid.Column="1" Text="{Binding Recompense}" 
                               Style="{StaticResource InfoGridText}" />
                    </Grid>
                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>